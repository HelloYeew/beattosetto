{% extends "beatmap_collections/base.html" %}
{% load static %}

    {% block meta_tags %}
    <!-- Facebook Meta Tags -->
    <meta property="og:url" content="https://beatsets.info/collections/{{ collection.id }}/">
    <meta property="og:type" content="website">
    <meta property="og:title" content="{{ collection.name }} | beattosetto">
    <meta property="og:description" content="{{ collection.description }}">
    <meta property="og:image" content="{{ collection.collection_list.url }}">

    <!-- Twitter Meta Tags -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://beatsets.info/collections/{{ collection.id }}/">
    <meta property="twitter:title" content="{{ collection.name }} | beattosetto">
    <meta property="twitter:description" content="{{ collection.description }}">
    <meta property="twitter:image" content="{{ collection.collection_list.url }}">
    {% endblock %}

    {% block title %}
  <title>{{ collection.name }} | beattosetto</title>
   {% endblock %}

{% block css %}
<link rel="stylesheet" href="{% static "css/progres-bar.css" %}">
{% endblock %}
{% block content %}
<main class="bg-dark text-light">
    <div class="px-4 py-4 my-4 text-center align-middle hero" style="background-image: linear-gradient(to bottom, transparent, var(--bg-color)), url('{{ collection.collection_list.url }}'); background-position: center;">
        <p></p>
        <p></p>
        <h1 class="display-5 fw-bold" id="home-welcome" data-aos="fade-up" data-aos-duration="700" data-aos-once="true">{{ collection.name }}</h1>
        <div class="col-lg-4 mx-auto">
            <p class="lead mb-4" data-aos="fade-up" data-aos-duration="800" data-aos-once="true" style="color: #b5b5b5">Made by <a href="#" class="hvr-picture-bounce text-decoration-none spacing-hover"><img src="{{ collection.author.profile.profile_picture.url }}" alt="{{ collection.author.username }}'s profile picture" class="rounded-circle hvr-icon" width="32px" height="32px" > {{ collection.author.username }}</a></p>
          <p class="lead mb-4" data-aos="fade-up" data-aos-duration="900" data-aos-once="true">{{ collection.description }}</p>
        </div>
    </div>

  <div class="container">
      <div class="row">
         {% if messages %}
            {% for message in messages %}
                {% if message.tags == "success"%}
                    <div class="alert alert-success">
                        <i class="fas fa-check"></i> {{ message }}
                    </div>
                {% endif %}
                {% if message.tags == "error"%}
                    <div class="alert alert-danger">
                        <i class="fas fa-times"></i> {{ message }}
                    </div>
                {% endif %}
            {% endfor %}
          {% endif %}
    </div>
  </div>

<section class="py-1 container">
    <div class="row">
        {% if user == collection.author %}
        <div class="col-sm-2">
            <p data-aos="fade-up" data-aos-duration="900" data-aos-once="true"><a class="text-decoration-none text-center spacing-hover-short hvr-icon-bounce" href="{% url "edit_collection" collection.id %}"><i class="fas fa-edit icon-menu hvr-icon"></i> Edit collection</a></p>
        </div>
        {% endif %}
        {% if user.is_authenticated %}
        <div class="col-sm-2">
            <p data-aos="fade-up" data-aos-duration="900" data-aos-once="true"><a class="text-decoration-none text-center spacing-hover-short hvr-icon-bounce" href="{% url "add_beatmap" collection.id %}"><i class="fas fa-plus icon-menu hvr-icon"></i> Add Beatmap</a></p>
        </div>
        {% endif %}
    </div>
<div class="row g-4 py-4">
    {% if all_beatmap %}
    {% for beatmap_entry in all_beatmap %}
    {% include "beatmap_collections/snippets/beatmap_card.html" %}
    {% endfor %}
    {% else %}
    <div data-aos="fade-up" data-aos-duration="500">
        <h1 class="text-center"><img src="{% static "img/no-beatmap.gif" %}" alt="No beatmap"></h1>
        <h3 class="text-center">No beatmaps added for this collection!</h3>
        <h3 class="text-center">Let's add one!</h3>
    </div>
    {% endif %}
</div>

</section>
    <br />
</main>
{% endblock %}

{% block js %}
  <script src="https://code.jquery.com/jquery.min.js"></script>
  <script src="{% static "js/player.js" %}"></script>
    <script>
    $(document).ready(function () {
        $('.mediPlayer').mediaPlayer();
    });
    </script>
{% endblock %}